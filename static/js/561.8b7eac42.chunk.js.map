{"version":3,"file":"static/js/561.8b7eac42.chunk.js","mappings":"mMA4DA,IACA,EAAe,IAA0B,2D,2BC5DzC,EAAsB,oBAAtB,EAAoD,wBAApD,EAAwF,0BAAxF,EAAmI,+BAAnI,EAA0K,sBAA1K,EAAuM,qB,SCiDvM,EAvC8B,SAAC,GAAc,IAAZA,EAAW,EAAXA,KACzBC,GAASC,EAAAA,EAAAA,IAAQC,EAAAA,GACjBC,EACI,WACN,IAAMC,GAAO,kBAAQL,GAAR,IAAcM,QAASN,EAAKM,QAAU,IACnD,GAAqB,IAAjBN,EAAKM,QAAe,CACtB,IAAMC,EAAYN,EAAOO,KAAI,SAACC,GAAQ,OAAOA,EAAEC,KAAOL,EAAQK,GAAKL,EAAUI,CAAI,KACjFE,EAAAA,EAAAA,GAAUJ,EACX,KAAM,CACL,IAAMA,EAAYN,EAAOW,QAAO,SAACH,GAAQ,OAAOA,EAAEC,KAAOL,EAAQK,EAAK,KACtEC,EAAAA,EAAAA,GAAUJ,EACX,CACF,EAVGH,EAWM,WACR,IAAMC,GAAO,kBAAQL,GAAR,IAAcM,QAASN,EAAKM,QAAU,IAC7CC,EAAYN,EAAOO,KAAI,SAACC,GAAQ,OAAOA,EAAEC,KAAOL,EAAQK,GAAKL,EAAUI,CAAI,KACjFE,EAAAA,EAAAA,GAAUJ,EACX,EAEH,OACE,iBAAKM,UAAWC,EAAhB,WACE,gBAAKC,IAAMf,EAAKgB,Q,61DAAUhB,EAAKiB,MAAkBC,IAAI,GAAGL,UAAWC,KACnE,iBAAKD,UAAWC,EAAhB,WACE,iBAAKD,UAAWC,EAAhB,WACE,iBAAMD,UAAWC,EAAjB,SAA+Bd,EAAKmB,QAClCnB,EAAKgB,UAAW,iBAAMH,UAAWC,EAAjB,mBAAmCd,EAAKoB,MAAQpB,EAAKM,QAArD,iBAEpB,SAAC,IAAD,CACEe,QAAS,kBAAMjB,GAAN,EACTE,QAASN,EAAKM,QACdgB,SAAU,kBAAMlB,GAAN,EACVmB,iBAAkB,CAAEC,eAAgB,QAASC,QAAS,KACtDC,0BAA2B,CAAEC,OAAQ,iBAK9C,EC/CD,EAAyB,uBAAzB,EAA6D,2BC4C7D,EApCmB,WACjB,IAAMC,GAAWC,EAAAA,EAAAA,MACTC,EAAgCC,EAAAA,EAAAA,GAAvBC,EAAuBD,EAAAA,EAAAA,GAAdE,EAAcF,EAAAA,EAAAA,GAClC9B,GAASC,EAAAA,EAAAA,IAAQC,EAAAA,GACjB+B,EAAWjC,EAAOkC,QAAO,SAACC,EAAKpC,GACnC,OAAOoC,EAAMpC,EAAKoB,MAAQpB,EAAKM,OAChC,GAAE,GAaH,OAZA+B,EAAAA,EAAAA,YAAU,WACRJ,GAAU,GACVH,EAAQ,IACRE,EAAQ,sDAAD,OAAeE,EAAf,WACR,GAAE,KACHG,EAAAA,EAAAA,YAAU,WACS,IAAbH,EACFF,EAAQ,sDAAD,OAAeE,EAAf,YAEPN,EAAS,IAEZ,GAAE,CAAC3B,KAEF,4BACE,iBAAKY,UAAWC,EAAhB,WACE,iBAAMD,UAAWC,EAAjB,yDACA,SAAC,KAAD,CAAMwB,GAAG,IAAIC,QAAS,kBAAM5B,EAAAA,EAAAA,GAAU,GAAhB,EAAtB,UACE,gBAAKI,IAAKyB,EAAKtB,IAAI,WAGvB,yBACGjB,EAAOO,KAAI,SAACR,GAAD,OACV,SAAC,EAAD,CAAYA,KAAMA,GAAWA,EAAKU,GADxB,QAMnB,C","sources":["shared/assets/img/basket.svg","webpack://project/./src/entities/basket-card/ui/styles.module.scss?c5be","entities/basket-card/ui/index.tsx","webpack://project/./src/pages/basket/styles.module.scss?9439","pages/basket/index.tsx"],"sourcesContent":["var _path, _path2, _path3, _path4, _path5;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgBasket(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4 7H20\",\n    stroke: \"#292929\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10 11V17\",\n    stroke: \"#292929\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14 11V17\",\n    stroke: \"#292929\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5 7L6 19C6 19.5304 6.21071 20.0391 6.58579 20.4142C6.96086 20.7893 7.46957 21 8 21H16C16.5304 21 17.0391 20.7893 17.4142 20.4142C17.7893 20.0391 18 19.5304 18 19L19 7\",\n    stroke: \"#292929\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9 7V4C9 3.73478 9.10536 3.48043 9.29289 3.29289C9.48043 3.10536 9.73478 3 10 3H14C14.2652 3 14.5196 3.10536 14.7071 3.29289C14.8946 3.48043 15 3.73478 15 4V7\",\n    stroke: \"#292929\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBasket);\nexport default __webpack_public_path__ + \"static/media/basket.45b1de8dbcb63446d0492fd73b811196.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nexport default {\"img\":\"styles_img__a5ruA\",\"top-row\":\"styles_top-row__jL0p4\",\"container\":\"styles_container__Zcp3y\",\"item-of-backet\":\"styles_item-of-backet__WUKiH\",\"price\":\"styles_price__MDsdA\",\"name\":\"styles_name__0u860\"};","import { $basket, ItemOfProductsKeysWithCounter, setBasket } from 'pages/basket/model';\r\nimport { FC } from 'react';\r\nimport { useUnit } from 'effector-react';\r\nimport { Counter } from 'shared/counter';\r\nimport tableImg from 'shared/assets/img/stol.png';\r\nimport styles from './styles.module.scss';\r\n\r\ntype Props = {\r\n  item: ItemOfProductsKeysWithCounter,\r\n}\r\n\r\nconst BasketCard: FC<Props> = ({ item }) => {\r\n  const basket = useUnit($basket);\r\n  const counterProps = {\r\n    lefBtn: () => {\r\n      const newItem = { ...item, counter: item.counter - 1 };\r\n      if (item.counter !== 1) {\r\n        const newBasket = basket.map((i) => { return i.id === newItem.id ? newItem : i; });\r\n        setBasket(newBasket);\r\n      } else {\r\n        const newBasket = basket.filter((i) => { return i.id !== newItem.id; });\r\n        setBasket(newBasket);\r\n      }\r\n    },\r\n    rightBtn: () => {\r\n      const newItem = { ...item, counter: item.counter + 1 };\r\n      const newBasket = basket.map((i) => { return i.id === newItem.id ? newItem : i; });\r\n      setBasket(newBasket);\r\n    },\r\n  };\r\n  return (\r\n    <div className={styles['item-of-backet']}>\r\n      <img src={!item.isTable ? item.image : tableImg} alt=\"\" className={styles.img} />\r\n      <div className={styles.container}>\r\n        <div className={styles['top-row']}>\r\n          <span className={styles.name}>{item.name}</span>\r\n          {!item.isTable && <span className={styles.price}>{`${item.price * item.counter} ₽`}</span>}\r\n        </div>\r\n        <Counter\r\n          leftBtn={() => counterProps.lefBtn()}\r\n          counter={item.counter}\r\n          rightBtn={() => counterProps.rightBtn()}\r\n          supplementStyles={{ justifyContent: 'start', padding: '0' }}\r\n          supplementStylesOfCounter={{ margin: '0 14px' }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BasketCard;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"basket\":\"styles_basket__43Lhy\",\"basket-row\":\"styles_basket-row__MYmqK\"};","import { FC, useEffect } from 'react';\r\nimport { lowerBarModel } from 'entities/lower-bar';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { useUnit } from 'effector-react';\r\nimport img from 'shared/assets/img/basket.svg';\r\nimport { BasketCard } from 'entities/basket-card';\r\nimport { $basket, setBasket } from './model';\r\nimport styles from './styles.module.scss';\r\n\r\nconst Basket: FC = () => {\r\n  const navigate = useNavigate();\r\n  const { setLink, setText, setIsOpen } = lowerBarModel;\r\n  const basket = useUnit($basket);\r\n  const sumPrice = basket.reduce((sum, item) => {\r\n    return sum + item.price * item.counter;\r\n  }, 0);\r\n  useEffect(() => {\r\n    setIsOpen(true);\r\n    setLink('');\r\n    setText(`Заказать | ${sumPrice} ₽`);\r\n  }, []);\r\n  useEffect(() => {\r\n    if (sumPrice !== 0) {\r\n      setText(`Заказать | ${sumPrice} ₽`);\r\n    } else {\r\n      navigate('/');\r\n    }\r\n  }, [basket]);\r\n  return (\r\n    <div>\r\n      <div className={styles['basket-row']}>\r\n        <span className={styles.basket}>Корзина</span>\r\n        <Link to=\"/\" onClick={() => setBasket([])}>\r\n          <img src={img} alt=\"\" />\r\n        </Link>\r\n      </div>\r\n      <div>\r\n        {basket.map((item) => (\r\n          <BasketCard item={item} key={item.id} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Basket;\r\n"],"names":["item","basket","useUnit","$basket","counterProps","newItem","counter","newBasket","map","i","id","setBasket","filter","className","styles","src","isTable","image","alt","name","price","leftBtn","rightBtn","supplementStyles","justifyContent","padding","supplementStylesOfCounter","margin","navigate","useNavigate","setLink","lowerBarModel","setText","setIsOpen","sumPrice","reduce","sum","useEffect","to","onClick","img"],"sourceRoot":""}